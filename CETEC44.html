<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluación Inicial - Competencia TEC4.4</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
	<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#2c3e50">
<link rel="apple-touch-icon" href="icon-192.png">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: Se ha diseñado una SPA con navegación por pestañas para evaluar la competencia TEC4.4. La estructura de dos columnas (instrucciones y rúbrica) se mantiene. El flujo de evaluación es progresivo en complejidad: 1) Lógica abstracta (Diagrama de Flujo), 2) Pseudoprogramación (Pseudocódigo), 3) Conocimiento de hardware (Componentes), 4) Programación básica (Reto por Bloques), 5) Aplicación conceptual (Ideación). Esta secuencia permite una evaluación inicial completa, desde el pensamiento computacional hasta la aplicación creativa de la automatización. -->
    <!-- Visualization & Content Choices: El contenido es de naturaleza procedimental y conceptual. Objetivo: Evaluar el pensamiento algorítmico, el conocimiento de componentes y la capacidad para diseñar soluciones automatizadas. Método: Se usan rúbricas interactivas y una lista de cotejo para los distintos instrumentos. Interacción: El docente selecciona el nivel de desempeño o marca ítems, y la puntuación se calcula automáticamente. Justificación: Este método permite una evaluación detallada y diferenciada de las habilidades de base necesarias para la automatización y la robótica. Librería/Método: Vanilla JavaScript. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FDFBF8;
            color: #1a202c;
        }
        .nav-btn {
            transition: all 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-btn.active {
            border-bottom-color: #C05621;
            color: #C05621;
            font-weight: 700;
        }
        .rubric-table td, .checklist-item {
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .rubric-table td:hover {
            background-color: #FEF3C7;
        }
        .rubric-table td.selected {
            background-color: #FBBF24;
            color: #1f2937;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.1);
        }
        .checklist-item .option:hover {
            background-color: #E2E8F0;
        }
        .checklist-item .option.selected-yes {
            background-color: #48BB78;
            color: white;
        }
        .checklist-item .option.selected-no {
            background-color: #F56565;
            color: white;
        }
        .card {
            background-color: #FFFFFF;
            border: 1px solid #E2E8F0;
        }
        @media print {
            body * {
                visibility: hidden;
            }
            .print-area, .print-area * {
                visibility: visible;
            }
            .print-area {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            .no-print {
                display: none;
            }
        }
    </style>
</head>
<body class="antialiased">

    <div class="container mx-auto px-4 py-8 md:py-12">
        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800">Evaluación de Automatización y Robótica</h1>
            <p class="mt-3 text-lg text-gray-600 max-w-3xl mx-auto">Instrumentos para medir la Competencia Específica <span class="font-semibold text-orange-700">TEC4.4</span> en 4º de ESO.</p>
        </header>

        <div class="w-full max-w-6xl mx-auto mb-10 p-2 bg-white rounded-xl shadow-md no-print">
            <nav class="flex flex-wrap justify-around items-center">
                <button data-target="instrumento1" class="nav-btn active flex-1 text-center py-3 px-2 rounded-lg text-gray-700 font-medium text-sm md:text-base">1. Diagrama de Flujo</button>
                <button data-target="instrumento2" class="nav-btn flex-1 text-center py-3 px-2 rounded-lg text-gray-700 font-medium text-sm md:text-base">2. Pseudocódigo</button>
                <button data-target="instrumento3" class="nav-btn flex-1 text-center py-3 px-2 rounded-lg text-gray-700 font-medium text-sm md:text-base">3. Componentes</button>
                <button data-target="instrumento4" class="nav-btn flex-1 text-center py-3 px-2 rounded-lg text-gray-700 font-medium text-sm md:text-base">4. Reto por Bloques</button>
                <button data-target="instrumento5" class="nav-btn flex-1 text-center py-3 px-2 rounded-lg text-gray-700 font-medium text-sm md:text-base">5. Ideación Automatizada</button>
            </nav>
        </div>

        <main id="content-area">
            <!-- Instrumento 1: Diagrama de Flujo Lógico -->
            <section id="instrumento1" class="content-section">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="card rounded-xl shadow-lg p-6 md:p-8">
                        <h2 class="text-2xl font-bold text-orange-800 mb-4">Instrumento 1: Diagrama de Flujo Lógico</h2>
                        <h3 class="text-xl font-semibold text-gray-700 mb-1">Planteamiento de la Tarea</h3>
                        <p class="text-gray-600 mb-4"><strong>Contexto:</strong> Antes de programar, hay que pensar. Un diagrama de flujo es un mapa que nos guía, mostrando los pasos y decisiones de un proceso.</p>
                        <p class="text-gray-600 mb-4"><strong>Tu Misión:</strong> Dibuja en papel o en una herramienta digital (como Google Drawings) el diagrama de flujo que describa el funcionamiento de una barrera de aparcamiento automática. </p>
                        
                        <h3 class="text-lg font-semibold text-gray-700 mt-6 mb-3">Lógica del Sistema</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600">
                            <li>El sistema empieza esperando a un coche.</li>
                            <li>Cuando un sensor detecta un coche, la barrera se abre.</li>
                            <li>La barrera permanece abierta durante 5 segundos.</li>
                            <li>Pasados los 5 segundos, la barrera se cierra.</li>
                            <li>El proceso vuelve a empezar.</li>
                        </ul>
                    </div>

                    <div class="card rounded-xl shadow-lg p-6 md:p-8 print-area">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-orange-800">Rúbrica de Evaluación</h2>
                            <button onclick="window.print()" class="no-print bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition">Imprimir</button>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left text-gray-500 rubric-table" data-instrument="1">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                    <tr>
                                        <th scope="col" class="py-3 px-4 w-1/4">Indicador</th>
                                        <th scope="col" class="py-3 px-4 text-center">1 (Iniciado)</th>
                                        <th scope="col" class="py-3 px-4 text-center">2 (En desarrollo)</th>
                                        <th scope="col" class="py-3 px-4 text-center">3 (Competente)</th>
                                        <th scope="col" class="py-3 px-4 text-center">4 (Experto)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Secuencia Lógica</th>
                                        <td class="py-4 px-4 text-center" data-score="1">La secuencia es ilógica o no resuelve el problema.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">La secuencia es correcta en parte, pero tiene errores graves.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">El diagrama sigue una secuencia lógica y funcional.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">La secuencia es eficiente e incluye el bucle de repetición.</td>
                                    </tr>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Identificación de Condiciones</th>
                                        <td class="py-4 px-4 text-center" data-score="1">No identifica la condición principal (detectar coche).</td>
                                        <td class="py-4 px-4 text-center" data-score="2">Identifica la condición, pero no la representa correctamente.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">Usa un rombo (decisión) para representar la condición.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Plantea la condición de forma clara y precisa (ej: "¿Sensor activado?").</td>
                                    </tr>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Uso de Simbología</th>
                                        <td class="py-4 px-4 text-center" data-score="1">No usa simbología estándar (solo cajas y flechas).</td>
                                        <td class="py-4 px-4 text-center" data-score="2">Mezcla símbolos o los usa de forma incorrecta.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">Usa correctamente los símbolos de inicio/fin, proceso y decisión.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Usa la simbología de forma precisa, incluyendo esperas o datos.</td>
                                    </tr>
                                    <tr class="bg-white">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Claridad y Estructura</th>
                                        <td class="py-4 px-4 text-center" data-score="1">El diagrama es caótico y difícil de leer.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">El diagrama se entiende, pero es desordenado.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">El diagrama es claro, limpio y fácil de seguir.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">La presentación del diagrama es impecable.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                         <div class="mt-6 text-right">
                            <span class="text-gray-600 font-medium">Puntuación Total: </span>
                            <span id="score-instrument1" class="text-2xl font-bold text-orange-700">0 / 16</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Instrumento 2: Pseudocódigo para un Robot Simple -->
            <section id="instrumento2" class="content-section hidden">
                 <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="card rounded-xl shadow-lg p-6 md:p-8">
                        <h2 class="text-2xl font-bold text-orange-800 mb-4">Instrumento 2: Pseudocódigo para un Robot Simple</h2>
                        <h3 class="text-xl font-semibold text-gray-700 mb-1">Planteamiento de la Tarea</h3>
                        <p class="text-gray-600 mb-4"><strong>Contexto:</strong> El pseudocódigo es una forma de escribir las instrucciones para un programa usando nuestro propio lenguaje, sin seguir las reglas estrictas de un lenguaje de programación. Es como dar órdenes claras y ordenadas.</p>
                        <p class="text-gray-600 mb-4"><strong>Tu Misión:</strong> Escribe en un Google Doc el pseudocódigo para un robot aspirador simple que limpia una habitación hasta que su batería está baja.</p>
                        
                        <h3 class="text-lg font-semibold text-gray-700 mt-6 mb-3">Lógica del Robot</h3>
                        <ul class="list-disc list-inside space-y-2 text-gray-600">
                           <li>El robot debe moverse hacia adelante y aspirar.</li>
                           <li>Si su sensor de choque frontal detecta un obstáculo, debe retroceder un poco y girar a la derecha.</li>
                           <li>Todo esto debe repetirlo mientras su sensor de batería indique que tiene más de un 10% de carga.</li>
                           <li>Si la batería baja del 10%, debe detenerse y apagarse.</li>
                        </ul>
                    </div>

                     <div class="card rounded-xl shadow-lg p-6 md:p-8 print-area">
                        <div class="flex justify-between items-center mb-4">
                           <h2 class="text-2xl font-bold text-orange-800">Lista de Cotejo</h2>
                           <button onclick="window.print()" class="no-print bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition">Imprimir</button>
                        </div>
                        <div id="checklist-instrument2" class="space-y-3">
                            <div class="checklist-item" data-group="1"><p>Define un inicio y un fin del programa.</p><div class="flex mt-1 rounded-lg border w-24 text-center text-sm font-bold overflow-hidden"><div class="option flex-1 p-1" data-value="yes">Sí</div><div class="option flex-1 p-1" data-value="no">No</div></div></div>
                            <div class="checklist-item" data-group="2"><p>Incluye un bucle principal (ej: "REPETIR MIENTRAS batería > 10%").</p><div class="flex mt-1 rounded-lg border w-24 text-center text-sm font-bold overflow-hidden"><div class="option flex-1 p-1" data-value="yes">Sí</div><div class="option flex-1 p-1" data-value="no">No</div></div></div>
                            <div class="checklist-item" data-group="3"><p>Plantea una condición para el sensor de choque (ej: "SI sensor_choque = activado").</p><div class="flex mt-1 rounded-lg border w-24 text-center text-sm font-bold overflow-hidden"><div class="option flex-1 p-1" data-value="yes">Sí</div><div class="option flex-1 p-1" data-value="no">No</div></div></div>
                            <div class="checklist-item" data-group="4"><p>Dentro de la condición de choque, incluye las acciones de retroceder y girar.</p><div class="flex mt-1 rounded-lg border w-24 text-center text-sm font-bold overflow-hidden"><div class="option flex-1 p-1" data-value="yes">Sí</div><div class="option flex-1 p-1" data-value="no">No</div></div></div>
                            <div class="checklist-item" data-group="5"><p>Fuera de la condición de choque (el "SI NO"), incluye la acción de avanzar.</p><div class="flex mt-1 rounded-lg border w-24 text-center text-sm font-bold overflow-hidden"><div class="option flex-1 p-1" data-value="yes">Sí</div><div class="option flex-1 p-1" data-value="no">No</div></div></div>
                             <div class="checklist-item" data-group="6"><p>La acción de "aspirar" se encuentra dentro del bucle principal.</p><div class="flex mt-1 rounded-lg border w-24 text-center text-sm font-bold overflow-hidden"><div class="option flex-1 p-1" data-value="yes">Sí</div><div class="option flex-1 p-1" data-value="no">No</div></div></div>
                            <div class="checklist-item" data-group="7"><p>Al final, fuera del bucle, incluye la orden de detenerse.</p><div class="flex mt-1 rounded-lg border w-24 text-center text-sm font-bold overflow-hidden"><div class="option flex-1 p-1" data-value="yes">Sí</div><div class="option flex-1 p-1" data-value="no">No</div></div></div>
                            <div class="checklist-item" data-group="8"><p>El texto es claro y las instrucciones están ordenadas lógicamente.</p><div class="flex mt-1 rounded-lg border w-24 text-center text-sm font-bold overflow-hidden"><div class="option flex-1 p-1" data-value="yes">Sí</div><div class="option flex-1 p-1" data-value="no">No</div></div></div>
                        </div>
                        <div class="mt-6 text-right">
                            <span class="text-gray-600 font-medium">Total de "Sí": </span>
                            <span id="score-instrument2" class="text-2xl font-bold text-orange-700">0 / 8</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Instrumento 3: Identificación de Componentes -->
            <section id="instrumento3" class="content-section hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="card rounded-xl shadow-lg p-6 md:p-8">
                        <h2 class="text-2xl font-bold text-orange-800 mb-4">Instrumento 3: Identificación de Componentes</h2>
                        <h3 class="text-xl font-semibold text-gray-700 mb-1">Planteamiento de la Tarea</h3>
                        <p class="text-gray-600 mb-4"><strong>Contexto:</strong> Para construir sistemas automáticos, usamos diferentes componentes electrónicos. Unos recogen información (sensores), otros la procesan (controlador) y otros actúan (actuadores).</p>
                        <p class="text-gray-600 mb-4"><strong>Tu Misión:</strong> El profesor/a te mostrará una imagen o una caja con varios componentes. En una tabla en Google Docs, identifica al menos 5 componentes, di su nombre, y clasifícalos como "Entrada (Sensor)", "Salida (Actuador)" o "Proceso".</p>
                        
                        <h3 class="text-lg font-semibold text-gray-700 mt-6 mb-3">Ejemplo de Componentes</h3>
                        <p class="text-gray-600">LED, Resistencia, Pulsador, Potenciómetro, LDR (Sensor de luz), Sensor de ultrasonidos, Servomotor, Zumbador, Placa Arduino/micro:bit.</p>
                    </div>

                    <div class="card rounded-xl shadow-lg p-6 md:p-8 print-area">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-orange-800">Rúbrica de Evaluación</h2>
                            <button onclick="window.print()" class="no-print bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition">Imprimir</button>
                        </div>
                        <div class="overflow-x-auto">
                           <table class="w-full text-sm text-left text-gray-500 rubric-table" data-instrument="3">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                    <tr>
                                        <th scope="col" class="py-3 px-4 w-1/4">Indicador</th>
                                        <th scope="col" class="py-3 px-4 text-center">1 (Iniciado)</th>
                                        <th scope="col" class="py-3 px-4 text-center">2 (En desarrollo)</th>
                                        <th scope="col" class="py-3 px-4 text-center">3 (Competente)</th>
                                        <th scope="col" class="py-3 px-4 text-center">4 (Experto)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Cantidad de Componentes Identificados</th>
                                        <td class="py-4 px-4 text-center" data-score="1">Identifica 0-1 componentes.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">Identifica 2-3 componentes.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">Identifica 4-5 componentes.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Identifica más de 5 componentes.</td>
                                    </tr>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Precisión en el Nombre</th>
                                        <td class="py-4 px-4 text-center" data-score="1">Los nombres son incorrectos o muy genéricos ("botón", "luz").</td>
                                        <td class="py-4 px-4 text-center" data-score="2">Usa nombres correctos para los componentes más básicos.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">Nombra correctamente la mayoría de los componentes.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Nombra correctamente incluso los componentes más complejos.</td>
                                    </tr>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Clasificación (Entrada/Salida/Proceso)</th>
                                        <td class="py-4 px-4 text-center" data-score="1">Clasifica incorrectamente la mayoría.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">Clasifica correctamente los más evidentes (LED, pulsador).</td>
                                        <td class="py-4 px-4 text-center" data-score="3">Clasifica correctamente la mayoría de los componentes.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Clasifica todos los componentes de forma impecable y razona por qué.</td>
                                    </tr>
                                    <tr class="bg-white">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Organización de la Información</th>
                                        <td class="py-4 px-4 text-center" data-score="1">La información está desorganizada.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">Presenta la información, pero sin un formato claro.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">Usa una tabla para organizar la información de forma clara.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">La tabla es muy clara e incluye detalles adicionales (ej: símbolo).</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                         <div class="mt-6 text-right">
                            <span class="text-gray-600 font-medium">Puntuación Total: </span>
                            <span id="score-instrument3" class="text-2xl font-bold text-orange-700">0 / 16</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Instrumento 4: Mini-Reto de Programación por Bloques -->
            <section id="instrumento4" class="content-section hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="card rounded-xl shadow-lg p-6 md:p-8">
                        <h2 class="text-2xl font-bold text-orange-800 mb-4">Instrumento 4: Mini-Reto de Programación por Bloques</h2>
                        <h3 class="text-xl font-semibold text-gray-700 mb-1">Planteamiento de la Tarea</h3>
                        <p class="text-gray-600 mb-4"><strong>Contexto:</strong> La programación por bloques es una forma visual e intuitiva de dar instrucciones a un dispositivo como una placa Arduino. Vamos a probar tu lógica con un pequeño reto.</p>
                        <p class="text-gray-600 mb-4"><strong>Tu Misión:</strong> Abre TinkerCAD Circuits. El profesor/a te dará un circuito ya montado con un pulsador y un servomotor. Tu reto es programar con bloques para que, **al mantener pulsado el botón, el servomotor gire 90 grados, y al soltarlo, vuelva a su posición original (0 grados)**.</p>
                        
                        <h3 class="text-lg font-semibold text-gray-700 mt-6 mb-3">Pistas</h3>
                        <ul class="list-disc list-inside space-y-3 text-gray-600">
                           <li>Necesitarás un bucle "para siempre".</li>
                           <li>Busca un bloque condicional "si / si no".</li>
                           <li>La condición deberá leer el estado del pulsador.</li>
                           <li>Encontrarás bloques específicos para controlar el servo.</li>
                        </ul>
                    </div>

                    <div class="card rounded-xl shadow-lg p-6 md:p-8 print-area">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-orange-800">Rúbrica de Evaluación</h2>
                            <button onclick="window.print()" class="no-print bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition">Imprimir</button>
                        </div>
                        <div class="overflow-x-auto">
                           <table class="w-full text-sm text-left text-gray-500 rubric-table" data-instrument="4">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                    <tr>
                                        <th scope="col" class="py-3 px-4 w-1/4">Indicador</th>
                                        <th scope="col" class="py-3 px-4 text-center">1 (Iniciado)</th>
                                        <th scope="col" class="py-3 px-4 text-center">2 (En desarrollo)</th>
                                        <th scope="col" class="py-3 px-4 text-center">3 (Competente)</th>
                                        <th scope="col" class="py-3 px-4 text-center">4 (Experto)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Uso de Estructuras de Control</th>
                                        <td class="py-4 px-4 text-center" data-score="1">No utiliza bucles ni condicionales.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">Usa un bucle, pero la estructura condicional es incorrecta.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">Usa correctamente el bucle y el condicional "si/si no".</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Anida las estructuras de forma lógica y eficiente.</td>
                                    </tr>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Lectura de Entradas y Escritura de Salidas</th>
                                        <td class="py-4 px-4 text-center" data-score="1">No logra leer el estado del pulsador ni mover el servo.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">Logra mover el servo, pero no en respuesta al pulsador.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">Lee el pulsador y lo usa para controlar el servo.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Gestiona la entrada y la salida de forma impecable y sin errores.</td>
                                    </tr>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Resolución del Problema</th>
                                        <td class="py-4 px-4 text-center" data-score="1">El programa no funciona en absoluto.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">El programa funciona de forma errática o incompleta.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">El programa resuelve el reto planteado correctamente.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Resuelve el reto y añade alguna mejora (ej: un LED indicador).</td>
                                    </tr>
                                    <tr class="bg-white">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Autonomía y Eficiencia</th>
                                        <td class="py-4 px-4 text-center" data-score="1">Necesita ayuda constante para cada paso.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">Logra avanzar, pero requiere indicaciones puntuales.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">Trabaja de forma autónoma y resuelve el problema.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Encuentra la solución rápidamente y con un código limpio.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                         <div class="mt-6 text-right">
                            <span class="text-gray-600 font-medium">Puntuación Total: </span>
                            <span id="score-instrument4" class="text-2xl font-bold text-orange-700">0 / 16</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Instrumento 5: Ideación de una Solución Automatizada -->
            <section id="instrumento5" class="content-section hidden">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="card rounded-xl shadow-lg p-6 md:p-8">
                        <h2 class="text-2xl font-bold text-orange-800 mb-4">Instrumento 5: Ideación de una Solución Automatizada</h2>
                        <h3 class="text-xl font-semibold text-gray-700 mb-1">Planteamiento de la Tarea</h3>
                        <p class="text-gray-600 mb-4"><strong>Contexto:</strong> La automatización está en todas partes. Ahora te toca a ti pensar como un/a ingeniero/a y diseñar una solución para un problema real.</p>
                        <p class="text-gray-600 mb-4"><strong>Tu Misión:</strong> Elige uno de los siguientes problemas y diseña en papel o en Google Drawings un boceto de una solución automatizada. No tienes que construirlo, solo idearlo.</p>
                        
                        <h3 class="text-lg font-semibold text-gray-700 mt-6 mb-3">Problemas a Elegir</h3>
                        <ul class="list-disc list-inside space-y-3 text-gray-600">
                           <li>Un sistema que avise si alguien deja la puerta o ventana del aula abierta al irse.</li>
                           <li>Un comedero automático para una mascota que le sirva comida dos veces al día.</li>
                           <li>Un sistema de aviso en la biblioteca que se active si el nivel de ruido es demasiado alto.</li>
                        </ul>
                        <p class="text-gray-600 mt-4">En tu boceto, debes indicar qué **sensores** usarías y qué **actuadores** harían la acción final.</p>
                    </div>

                    <div class="card rounded-xl shadow-lg p-6 md:p-8 print-area">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-orange-800">Rúbrica de Evaluación</h2>
                            <button onclick="window.print()" class="no-print bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition">Imprimir</button>
                        </div>
                        <div class="overflow-x-auto">
                           <table class="w-full text-sm text-left text-gray-500 rubric-table" data-instrument="5">
                                <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                                    <tr>
                                        <th scope="col" class="py-3 px-4 w-1/4">Indicador</th>
                                        <th scope="col" class="py-3 px-4 text-center">1 (Iniciado)</th>
                                        <th scope="col" class="py-3 px-4 text-center">2 (En desarrollo)</th>
                                        <th scope="col" class="py-3 px-4 text-center">3 (Competente)</th>
                                        <th scope="col" class="py-3 px-4 text-center">4 (Experto)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Comprensión del Problema</th>
                                        <td class="py-4 px-4 text-center" data-score="1">La solución propuesta no resuelve el problema planteado.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">La solución está relacionada, pero no aborda el núcleo del problema.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">La solución diseñada resuelve eficazmente el problema.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Demuestra una comprensión profunda del problema y sus matices.</td>
                                    </tr>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Lógica del Sistema de Control</th>
                                        <td class="py-4 px-4 text-center" data-score="1">No identifica sensores ni actuadores.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">Elige componentes, pero su conexión lógica es incorrecta.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">Elige un sensor y un actuador adecuados y explica su lógica.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Diseña un sistema completo con una lógica causa-efecto impecable.</td>
                                    </tr>
                                    <tr class="bg-white border-b">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Incorporación de Tecnología</th>
                                        <td class="py-4 px-4 text-center" data-score="1">Propone una solución mecánica, no automatizada.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">La solución es automatizada, pero muy básica.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">La tecnología propuesta es adecuada y viable.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">Sugiere el uso de tecnologías emergentes (ej. IoT, app móvil).</td>
                                    </tr>
                                    <tr class="bg-white">
                                        <th scope="row" class="py-4 px-4 font-medium text-gray-900">Calidad del Diseño y Boceto</th>
                                        <td class="py-4 px-4 text-center" data-score="1">El boceto es incomprensible.</td>
                                        <td class="py-4 px-4 text-center" data-score="2">El boceto es simple, pero se entiende la idea general.</td>
                                        <td class="py-4 px-4 text-center" data-score="3">El boceto es claro y etiqueta correctamente los componentes.</td>
                                        <td class="py-4 px-4 text-center" data-score="4">El diseño es detallado, claro y comunicativamente muy eficaz.</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                         <div class="mt-6 text-right">
                            <span class="text-gray-600 font-medium">Puntuación Total: </span>
                            <span id="score-instrument5" class="text-2xl font-bold text-orange-700">0 / 16</span>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const navButtons = document.querySelectorAll('.nav-btn');
        const contentSections = document.querySelectorAll('.content-section');

        navButtons.forEach(button => {
            button.addEventListener('click', () => {
                const targetId = button.dataset.target;

                navButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');

                contentSections.forEach(section => {
                    if (section.id === targetId) {
                        section.classList.remove('hidden');
                    } else {
                        section.classList.add('hidden');
                    }
                });
            });
        });

        const rubricTables = document.querySelectorAll('.rubric-table');
        rubricTables.forEach(table => {
            const cells = table.querySelectorAll('td');
            cells.forEach(cell => {
                cell.addEventListener('click', () => {
                    const row = cell.parentElement;
                    row.querySelectorAll('td').forEach(sibling => {
                        sibling.classList.remove('selected');
                    });
                    cell.classList.add('selected');
                    updateRubricScore(table);
                });
            });
        });
        
        const checklist = document.getElementById('checklist-instrument2');
        if (checklist) {
            const options = checklist.querySelectorAll('.option');
            options.forEach(option => {
                option.addEventListener('click', () => {
                    const parent = option.parentElement;
                    const value = option.dataset.value;

                    parent.querySelectorAll('.option').forEach(sibling => {
                        sibling.classList.remove('selected-yes', 'selected-no');
                    });

                    if (value === 'yes') {
                        option.classList.add('selected-yes');
                    } else {
                        option.classList.add('selected-no');
                    }
                    updateChecklistScore();
                });
            });
        }
    });

    function updateRubricScore(table) {
        const instrumentId = table.dataset.instrument;
        const scoreElement = document.getElementById(`score-instrument${instrumentId}`);
        const maxScore = table.querySelectorAll('tbody tr').length * 4;
        
        let totalScore = 0;
        const selectedCells = table.querySelectorAll('td.selected');
        selectedCells.forEach(cell => {
            totalScore += parseInt(cell.dataset.score, 10);
        });
        
        scoreElement.textContent = `${totalScore} / ${maxScore}`;
    }

    function updateChecklistScore() {
        const scoreElement = document.getElementById('score-instrument2');
        const checklist = document.getElementById('checklist-instrument2');
        const selectedYes = checklist.querySelectorAll('.option.selected-yes').length;
        const totalItems = checklist.querySelectorAll('.checklist-item').length;
        
        scoreElement.textContent = `${selectedYes} / ${totalItems}`;
    }
</script>
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('./service-worker.js')
                .then(registration => {
                    console.log('Service Worker registrado con éxito:', registration.scope);
                })
                .catch(error => {
                    console.log('Fallo al registrar el Service Worker:', error);
                });
        });
    }
</script>

</body>
</html>